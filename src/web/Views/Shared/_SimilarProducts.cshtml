@model EPiServer.Commerce.Catalog.ContentTypes.EntryContentBase
<section class="catalog-grid">
    <div class="container">
        <div class="accordion row" ng-controller="SimilarProductsController" ng-init="init('@Model.ContentLink.ID', '@Model.Language')" ng-hide="!visible">
            <div class="panel-heading active">
                <a class="accordion-toggle" data-toggle="collapse" data-target="#similar-products"><i></i>@Html.Translate("/common/product/related_products")</a>
            </div>
            <div class="sliderContainer collapse in" id="similar-products">
                <div class="catalog-grid">
                    <div class="slider">
                        <ul id="similarProducts" class="slides">
                            <li class="product" ng-repeat="product in similarProducts">
                                <div class="tile">
                                    <div class="badges" ng-show="product.DiscountPriceString">
                                        <span class="sale"></span>
                                    </div>
                                    <div class="price-label">
                                        <span ng-show="product.DiscountPriceString">{{product.DiscountPriceString}}</span>
                                        <span ng-hide="product.DiscountPriceString">{{product.PriceString}}</span>

                                    </div>
                                    <div class="price-label old-price" ng-show="product.DiscountPriceString">
                                        {{product.PriceString}}
                                    </div>
                                    <a href="{{ product.ProductUrl }}">
                                        <img class="img-responsive" ng-src="{{product.ImageUrl}}?preset=largethumbnail" load-disp load-dispatcher />
                                    </a>
                                    <div class="footer">
                                        <a href="{{ product.ProductUrl }}">{{ product.DisplayName }}</a>
                                        <div class="tools">
                                            <!--Add To Cart Button-->
                                            <span ng-show="product.IsVariation">
                                                <a class="add-cart-btn" ng-controller="BuyController" ng-init="initWithProduct(product)" ng-click="addToCartDefault()" href="#"><span>@Html.Translate("/common/product/add_to_cart")</span><i class="icon-shopping-cart"></i></a>
                                            </span>                                        
                                            <span ng-hide="product.IsVariation">
                                                <a class="add-cart-btn" href="{{ product.ProductUrl }}"><span>@Html.Translate("/common/product/details")</span><i class="icon-arrow-right"></i></a>
                                            </span>
                                        </div>
                                        
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
